
### Prompt

# The format layout for the prompt is as follows:

# left side
# tools and versions
# fill
# right prompt info
# prompt character

# Commands may be slower in restricted environments, e.g. containers
command_timeout = 1000

format = """
$sudo$username$hostname$directory$git_branch$git_commit$git_state$git_status\
$kubernetes$python$aws$nodejs$docker_context$golang\
$fill\
$jobs$status$cmd_duration$time
$character
"""

# TODO: transient prompt released in v1.10.1

[fill]
symbol = " "

[character]
success_symbol = "[‚ùØ](green)"

### Left prompt

[sudo]
disabled = false
symbol = "üßô"
format = "[$symbol]($style)"

[username]
# Don't display for normal logged in user
disabled = true
style_user = "#d3b987"
format = "[$user]($style)"

[hostname]
disabled = true
ssh_only = true
style = "#d3b987"
format = "[@$hostname]($style)[ ÓÇ±](#767676)"

[directory]
read_only = " Ô†Ω"
truncation_length = 2
truncate_to_repo = false
repo_root_style = "#0087af"
fish_style_pwd_dir_length = 2
style = "#00afff"
# Repo format
repo_root_format = "[ $before_root_path]($style)[$repo_root]($repo_root_style)[$path]($style)[$read_only]($read_only_style) "
# Non repo format
format = "[ $path]($style)[$read_only]($read_only_style) "

[git_branch]
symbol = "Ôêò "
style = "green"
format = "[ÓÇ± ](#767676)[$symbol$branch]($style)"

[git_status]
stashed = "[*${count}](blue) "
modified = "[!${count}](yellow) "
staged = "[+${count}](green) "
untracked = "[?${count}](blue) "
deleted = "[-${count}](red) "
format = " ([$stashed$modified$staged$untracked$ahead_behind]($style) )"
#format = " ([$all_status $ahead_behind]($style))"

### Right prompt info

[jobs]
disabled = false
format = "[$number]($style)"

[status]
disabled = false
map_symbol = false
format = "[$symbol $status]($style) "

[cmd_duration]
style = "#a8a8a8"
format = "([ÓÇ≥ ](#767676)[$duration Ôâí]($style) )"

### Right prompt tools and versions


[kubernetes]
format = '([ÓÇ± ](#767676)[$symbol$context( \($namespace\))]($style) '

[golang]
symbol = "Óòß "
format = "([ÓÇ± ](#767676)[$symbol($version)]($style) )"

[nodejs]
symbol = "Óúò "
format = "([ÓÇ± ](#767676)[$symbol($version)]($style) )"

[python]
symbol = "ÓòÜ "
format = '([ÓÇ± ](#767676)[${symbol}${pyenv_prefix}(${version} )([\($virtualenv\)](#306998))]($style) )'

[aws]
disabled = false
symbol = "ÓåΩ "
format = '([ÓÇ± ](#767676)[$symbol$profile(\[$duration\])]($style) )'

[conda]
symbol = "ÔÑå "

[docker_context]
symbol = "Ôåà "
format = "([ÓÇ≥ ](#767676)[$symbol$context]($style) )"

[nix_shell]
symbol = "Ôãú "

[memory_usage]
disabled = false
threshold = -1
symbol = "ÔÉ§"
style = "#5f8787"
format = "( [ÓÇ≥ ](#767676)[$ram_pct $symbol]($style) )"

[time]
disabled = false
format = "( [ÓÇ≥ ](#767676)[$time]($style) )"

[shlvl]
disabled = true

### Custom plugins
[custom.disk]
description = "Show % of disk used"
#command = "df -k | grep /dev/sda1 |  awk '{ print $5 }' | head -n 1 | sed 's/%//'"
command = 'df -h --output=avail "$PWD" | tail -n 1'
style = "#00af5f"
format = "[ÓÇ≥ ](#767676)[$output ÔÇ†]($style) "
when = "true"

[custom.loadavg]
description = "Show load average"
# Linux
# command = "cat /proc/loadavg | cut -d' ' -f 2"
# OSX
command = "sysctl -n vm.loadavg | cut -d' ' -f 2"
style = "#5f8787"
format = "([ÓÇ≥ ](#767676)[$output ÔÇÄ]($style) )"
when = "true"